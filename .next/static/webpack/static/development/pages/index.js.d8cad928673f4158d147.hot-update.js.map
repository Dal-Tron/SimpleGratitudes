{"version":3,"file":"static/webpack/static/development/pages/index.js.d8cad928673f4158d147.hot-update.js","sources":["webpack:///./components/index/desktop/DesktopQuotes.js","webpack:///./pages/index.js"],"sourcesContent":["import React, { Component } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nclass DesktopQuotes extends Component {\n  constructor(props) {\n    super(props)\n    const idxStart = 0\n    this.state = {\n      index: idxStart,\n      next: this.getNextIndex(idxStart),\n      visible: true\n    }\n  }\n\n  getNextIndex(idx) {\n    if (idx >= this.props.quotes.length - 1) {\n      return 0\n    }\n    return idx + 1\n  }\n\n  getPreviousIndex(idx) {\n    if (idx < 1) {\n      return this.props.quotes.length - 1\n    }\n    return idx - 1\n  }\n\n  setNextIndexes(idx) {\n    this.setState({\n      index: idx,\n      next: this.getNextIndex(idx),\n      visible: true\n    })\n  }\n\n  setPreviousIndexes(idx) {\n    this.setState({\n      index: idx,\n      next: this.getPreviousIndex(idx),\n      visible: true\n    })\n  }\n\n  handleNextQuote = () => {\n    this.setState({\n      visible: false\n    })\n    setTimeout(() => {\n      this.setNextIndexes(this.getNextIndex(this.state.index))\n    }, 1000)\n  }\n\n  handlePreviousQuote = () => {\n    this.setState({\n      visible: false\n    })\n    setTimeout(() => {\n      this.setPreviousIndexes(this.getPreviousIndex(this.state.index))\n    }, 1000)\n  }\n\n  render() {\n    const visibleQuote = this.state.visible ? 'visible-quote' : '';\n    const quote = this.props.quotes[this.state.index]\n    return (\n      <section className=\"quotes\">\n        <div className=\"quotes-container\">\n          <div className={`quote-text absCenter ${visibleQuote}`}>\n            {quote.text}\n            <div className=\"quote-author\">\n              - {quote.author}\n            </div>\n          </div>\n          <div className=\"quote-button-container absCenter\">\n            <div onClick={this.handleNextQuote} className=\"quote-icon quote-icon-right\">\n              <FontAwesomeIcon icon=\"chevron-right\" />\n            </div>\n            <div onClick={this.handlePreviousQuote} className=\"quote-icon quote-icon-left\">\n              <FontAwesomeIcon icon=\"chevron-left\" />\n            </div>\n          </div>\n        </div>\n        <style jsx>{`\n          .quotes-container {\n            position: relative;\n            color: white;\n            font-family: Righteous, Sans-Serif, Arial;\n            letter-spacing: 1px;\n            font-size: 1.2rem;\n            height: 12rem;\n          }\n          .quote-text {\n            border-left: 5px solid white;\n            width: 26rem;\n            padding-left: 1rem;\n            opacity: 0;\n            transition: all .5s ease;\n          }\n          .quote-author {\n            text-align: right;\n            max-width: 26rem;\n            font-family: Snippet, Sans-Serif, Arial;\n          }\n          .visible-quote {\n            opacity: 1;\n            transition: all .5s ease;\n          }\n          .quote-button-container {\n            width: 26rem;\n          }\n          .quote-icon {\n            position: absolute;\n            top: 50%;\n            max-width: 14px;\n          }\n          .quote-icon-left {\n            left: -5rem;\n          }\n          .quote-icon-right {\n            right: -5rem;\n          }\n        `}</style>\n      </section>\n    )\n  }\n}\n\nexport default DesktopQuotes","import React, { Component } from 'react'\nimport pdfMake from 'pdfmake/build/pdfmake'\nimport { loadDB } from '../lib/db'\nimport pdfFonts from '../static/js/vfs_fonts'\nimport { generateUniqueID } from '../lib/helpers'\n\nimport Head from 'next/head'\nimport DesktopBrand from '../components/index/desktop/DesktopBrand'\nimport DesktopClock from '../components/index/desktop/DesktopClock'\nimport DesktopQuotes from '../components/index/desktop/DesktopQuotes'\nimport Text from '../components/Text'\nimport Quotes from '../components/Quotes';\n\nclass Index extends Component {\n  state = {\n    timestring: '',\n    quotes: [\n      {\n        \"text\": \"Gratitude is a powerful catalyst for happiness. It's the spark that lights a fire of joy in your soul.\",\n        \"author\": \"Amy Collette\"\n      },\n    ],\n    gratitudes: {\n      \"gratitude-0\": \"\"\n    },\n    visions: {\n      \"vision-0\": \"\"\n    }\n  }\n\n  componentDidMount() {\n    this.handleCreateTimeString()\n    this.timer = setInterval(() => this.handleCreateTimeString(), 1000)\n    this.props.quotes && this.setState({\n      quotes: [...this.state.quotes, ...this.props.quotes]\n    })\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer)\n  }\n\n  handleCreateTimeString() {\n    const date = new Date();\n    const weekdays = [\n      \"Sunday\",\n      \"Monday\",\n      \"Tuesday\",\n      \"Wednesday\",\n      \"Thursday\",\n      \"Friday\",\n      \"Saturday\"\n    ];\n\n    const months = [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\"\n    ];\n\n    const weekday = weekdays[date.getDay()];\n    const month = months[date.getMonth()];\n    const intDay = date.getDate();\n    const year = date.getFullYear();\n    const timestamp = date.toTimeString()\n    const H = timestamp.substr(0, 2)\n    const h = H % 12 || 12\n    const ampm = (H < 12 || H === 24) ? \" AM\" : \" PM\"\n    const time = h + timestamp.substr(2, 3) + ampm\n    const timestring = `${weekday}, ${month} ${intDay}, ${year}, ${time}`;\n\n    this.setState({ timestring })\n  }\n\n  handleAddGratitude = () => {\n    const gratitudeID = `gratitude-${generateUniqueID()}`\n    let gratitude = {}\n    gratitude[gratitudeID] = \"\"\n    const gratitudes = Object.assign({}, this.state.gratitudes, gratitude)\n    this.setState({\n      gratitudes\n    })\n  }\n\n  handleAddVision = () => {\n    const visionID = `vision-${generateUniqueID()}`\n    let vision = {}\n    vision[visionID] = \"\"\n    const visions = Object.assign({}, this.state.visions, vision)\n    this.setState({\n      visions\n    })\n  }\n\n  handleRemoveGratitude = key => {\n    if (key !== \"gratitude-0\") {\n      const { gratitudes } = this.state\n      delete gratitudes[key]\n      this.setState({\n        gratitudes\n      })\n    }\n  }\n\n  handleRemoveVision = key => {\n    if (key !== \"vision-0\") {\n      const { visions } = this.state\n      delete visions[key]\n      this.setState({\n        visions\n      })\n    }\n  }\n\n  handleSaveGratitude = e => {\n    const { gratitudes } = this.state\n    const id = e.target.id\n    const gratitudeText = e.target.value\n    gratitudes[id] = gratitudeText\n    this.setState({\n      gratitudes\n    })\n  }\n\n  handleSaveVision = e => {\n    const { visions } = this.state\n    const id = e.target.id\n    const visionText = e.target.value\n    visions[id] = visionText\n    this.setState({\n      visions\n    })\n  }\n\n  handleCreatePDF = () => {\n    pdfMake.vfs = pdfFonts\n    const {\n      timestring,\n      gratitudes,\n      visions\n    } = this.state\n\n    pdfMake.fonts = {\n      'Righteous': {\n        normal: 'Righteous.ttf',\n        bold: 'Righteous.ttf',\n        italics: 'Righteous.ttf',\n        bolditalics: 'Righteous.ttf',\n      },\n      'Snippet': {\n        normal: 'Snippet.ttf',\n        bold: 'Snippet.ttf',\n        italics: 'Snippet.ttf',\n        bolditalics: 'Snippet.ttf',\n      },\n      'CodyStar-Light': {\n        normal: 'CodyStar-Light.ttf',\n        bold: 'CodyStar-Light.ttf',\n        italics: 'CodyStar-Light.ttf',\n        bolditalics: 'CodyStar-Light.ttf',\n      },\n      'OpenSans-Regular': {\n        normal: 'OpenSans-Regular.ttf',\n        bold: 'OpenSans-Regular.ttf',\n        italics: 'OpenSans-Regular.ttf',\n        bolditalics: 'OpenSans-Regular.ttf',\n      },\n    };\n\n    const content = [\n      {\n        text: 'Grateful',\n        style: ['header', 'section1'],\n      },\n      {\n        text: 'Vision',\n        style: ['header', 'section2'],\n      },\n      {\n        text: `${timestring}`,\n        style: ['header', 'section3'],\n      },\n      {\n        text: 'Gratitude',\n        style: ['header', 'section4']\n      },\n      {\n        text: 'Vision',\n        style: ['header', 'section4'],\n      }\n    ]\n\n    if (Object.keys(gratitudes).length > 0) {\n      Object.keys(gratitudes).map((key, index) => {\n        let gratitude = {\n          text: gratitudes[key],\n          style: ['section5']\n        }\n        // just start at index 5 as there are several headings (currently 4) inserted first\n        content.splice(index + 4, 0, gratitude)\n      })\n    }\n\n    if (Object.keys(visions).length > 0) {\n      Object.keys(visions).map((key, index) => {\n        let vision = {\n          text: visions[key],\n          style: ['section5']\n        }\n        // visions are currently at the end, so we can just push\n        content.push(vision)\n      })\n    }\n\n    const docDefinition = {\n      info: {\n        title: 'Grateful Vision',\n        author: 'Grateful Vision',\n        subject: 'Grateful Vision',\n        keywords: 'Grateful Vision',\n      },\n      pageMargins: [0, 0, 0, 0],\n      content,\n      styles: {\n        header: {\n          fontSize: 22,\n          alignment: 'center',\n        },\n        section1: {\n          color: '#5190a5',\n          font: 'Righteous',\n          margin: [0, 20, 0, 0]\n        },\n        section2: {\n          color: '#5190a5',\n          font: 'Snippet',\n        },\n        section3: {\n          color: '#5190a5',\n          font: 'CodyStar-Light',\n          margin: [0, 20, 0, 0]\n        },\n        section4: {\n          color: '#5190a5',\n          font: 'CodyStar-Light',\n          margin: [0, 20, 0, 0]\n        },\n        section5: {\n          color: '#5190a5',\n          font: 'OpenSans-Regular',\n          margin: [180, 20, 180, 0],\n          fontSize: 14,\n          alignment: 'center'\n        }\n      }\n    }\n\n    pdfMake.createPdf(docDefinition).open()\n  }\n\n  render() {\n    const {\n      timestring,\n      quotes,\n      gratitudes,\n      visions,\n    } = this.state\n    const renderGratitudes = Object.keys(gratitudes).map((key, index) => <Text\n      key={index}\n      id={key}\n      text={gratitudes[key]}\n      handleRemoveText={() => this.handleRemoveGratitude(key)}\n      handleSaveText={this.handleSaveGratitude}\n      rows=\"4\"\n      label=\"Gratitude\"\n    />)\n\n    const renderVisions = Object.keys(visions).map((key, index) => <Text\n      key={index}\n      id={key}\n      text={visions[key]}\n      handleRemoveText={() => this.handleRemoveVision(key)}\n      handleSaveText={this.handleSaveVision}\n      rows=\"4\"\n      label=\"Vision\"\n    />)\n\n    return (\n      <div className=\"page-wrapper\">\n        <Head>\n          <meta name=\"viewport\" content=\"initial-scale=1.0, width=device-width\" />\n        </Head>\n        <DesktopBrand />\n        <DesktopClock timestring={timestring} />\n        <DesktopQuotes quotes={quotes} />\n        <section className=\"buttons\">\n        </section>\n        <section className=\"gratitudes\">\n          {renderGratitudes}\n          <div onClick={this.handleAddGratitude} className=\"section-header\">+</div>\n        </section>\n        <section className=\"visions\">\n          {renderVisions}\n          <div onClick={this.handleAddVision} className=\"section-header\">+</div>\n        </section>\n        <section className=\"footer\">\n          <div className=\"footer-text\" onClick={this.handleCreatePDF}>Download</div>\n        </section>\n        <style jsx global>{`\n      @font-face {\n        font-family: ZillaSlab;\n        src: url(\"/static/fonts/ZillaSlab.ttf\") format(\"truetype\");\n      }\n      @font-face {\n        font-family: CodyStarLight;\n        src: url(\"/static/fonts/CodyStar-Light.ttf\") format(\"truetype\");\n      }\n      @font-face {\n        font-family: Righteous;\n        src: url(\"/static/fonts/Righteous.ttf\") format(\"truetype\");\n      }\n      @font-face {\n        font-family: Snippet;\n        src: url(\"/static/fonts/Snippet.ttf\") format(\"truetype\");\n      }\n      * {\n        box-sizing: border-box;\n      }\n      html,\n      body {\n        margin: 0;\n        padding: 0;\n        overflow: scroll;\n        margin-bottom: 6rem;\n        background: #b0edc5;\n      }\n      .absCenter {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n      }\n      .inline {\n        display: inline-block;\n      }\n      .quotes {\n        background: lightblue;\n      }\n      .section-header {\n        text-align: center;\n        padding: 2rem;\n        color: white;\n        font-size: 2.5rem;\n        font-family: Sans-Serif, Arial;\n      }\n      .gratitudes {\n        background: lightblue;\n      }\n      .visions {\n        background: lightblue;\n      }\n      .footer {\n        background: #59bf7c;\n        position: fixed;\n        bottom: 0;\n        width: 100%;\n        height: 6rem;\n      }\n      .footer-text {\n        text-align: center;\n        padding: 2rem;\n        font-family: Snippet, Sans-Serif, Arial;\n        color: white;\n        font-size: 1.5rem;\n      }\n    `}</style>\n      </div>\n    )\n  }\n}\n\nIndex.getInitialProps = async function () {\n  const db = await loadDB()\n  let quotes = []\n  const querySnapshot = await db.firestore().collection('quotes').get()\n  querySnapshot.forEach(doc => {\n    quotes.push(doc.data())\n  })\n\n  return {\n    quotes\n  }\n}\n\nexport default Index"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAyCA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AAhDA;AAkDA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AAvDA;AACA;AACA;AACA;AACA;AAHA;AAHA;AAQA;AACA;;;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;AAoBA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAbA;AAAA;AAAA;AA2DA;;;;AA1HA;AACA;AA4HA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAEA;AACA;AAFA;AAKA;AACA;AADA;AAGA;AACA;AADA;AAXA;AACA;AAoEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAnBA;AA2BA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AALA;AAxBA;AATA;AA2CA;AACA;AACA;;;;;;AA9OA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AAUA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;;;AA4LA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAlBA;AAAA;AAAA;AA0FA;;;;AAtXA;AACA;AAwXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AANA;AASA;AADA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;;;;A","sourceRoot":""}